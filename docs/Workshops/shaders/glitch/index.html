<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Glitching writting # The glitching effect is a very popular effect in the digital art world. It is a very simple effect to achieve and it can be used in many different ways. In this workshop we will learn how to create a glitching effect on a text using a shader.
The shader # The shader we will use is a very simple shader that will take a drawing and will apply a glitching effect to it."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Glitching writting # The glitching effect is a very popular effect in the digital art world. It is a very simple effect to achieve and it can be used in many different ways. In this workshop we will learn how to create a glitching effect on a text using a shader.
The shader # The shader we will use is a very simple shader that will take a drawing and will apply a glitching effect to it."><meta property="og:type" content="article"><meta property="og:url" content="https://visualcomputing.github.io/showcase/docs/Workshops/shaders/glitch/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-06-19T20:13:44-05:00"><title>Glitch | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><input type=checkbox id=section-bffb37aabc511da64618cc3c63b579fa class=toggle>
<label for=section-bffb37aabc511da64618cc3c63b579fa class="flex justify-between"><a role=button>About Us</a></label><ul><li><a href=/showcase/docs/About-Us/Alejandro_Melo/>Alejandro Melo</a></li><li><a href=/showcase/docs/About-Us/David_Cifuentes/>David Cifuentes</a></li></ul></li><li><input type=checkbox id=section-ab817738b5cb607b62ce212ca2d98366 class=toggle>
<label for=section-ab817738b5cb607b62ce212ca2d98366 class="flex justify-between"><a role=button>Second Delivery</a></label><ul><li><a href=/showcase/docs/Second-Delivery/Post_effects/>Post Effects</a></li><li><a href=/showcase/docs/Second-Delivery/Procedural_texturing/>Procedural Texturing</a></li></ul></li><li><input type=checkbox id=section-a188884b9383bb4bffff7b6b9533ab3a class=toggle>
<label for=section-a188884b9383bb4bffff7b6b9533ab3a class="flex justify-between"><a role=button>Video Deliveries</a></label><ul><li><a href=/showcase/docs/video-deliveries/first_delivery/>First Delivery</a></li></ul></li><li><span>Workshops</span><ul><li><input type=checkbox id=section-ed0725c6e97e51794270952248699bca class=toggle>
<label for=section-ed0725c6e97e51794270952248699bca class="flex justify-between"><a role=button>Illusions & Masking</a></label><ul><li><a href=/showcase/docs/Workshops/-Illusions-Masking/illusions/>Illusions</a></li><li><a href=/showcase/docs/Workshops/-Illusions-Masking/masking/>Masking</a></li></ul></li><li><input type=checkbox id=section-dc7e1e5fd4746fe856186ff48c2abd08 class=toggle>
<label for=section-dc7e1e5fd4746fe856186ff48c2abd08 class="flex justify-between"><a role=button>Coloring</a></label><ul><li><a href=/showcase/docs/Workshops/coloring/coloring/>Coloring</a></li></ul></li><li><input type=checkbox id=section-37e76b270a0326beee8ad02570e50096 class=toggle checked>
<label for=section-37e76b270a0326beee8ad02570e50096 class="flex justify-between"><a role=button>Shaders</a></label><ul><li><a href=/showcase/docs/Workshops/shaders/glitch/ class=active>Glitch</a></li></ul></li><li><input type=checkbox id=section-2889902daffc9a8f722a6fb0706d26db class=toggle>
<label for=section-2889902daffc9a8f722a6fb0706d26db class="flex justify-between"><a role=button>Terrain Generation</a></label><ul><li><a href=/showcase/docs/Workshops/terrain_generation/mach_bands/>Mach Bands</a></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Glitch</strong>
<label for=toc-control></label></div></header><article class=markdown><h2 id=glitching-writting>Glitching writting
<a class=anchor href=#glitching-writting>#</a></h2><p>The glitching effect is a very popular effect in the digital art world. It is a very simple effect to achieve and it can be used in many different ways. In this workshop we will learn how to create a glitching effect on a text using a shader.</p><h3 id=the-shader>The shader
<a class=anchor href=#the-shader>#</a></h3><p>The shader we will use is a very simple shader that will take a drawing and will apply a glitching effect to it. The shader is composed of two parts, the first part is the vertex shader and the second part is the fragment shader. The vertex shader is the part of the shader that will be executed for each vertex of the drawing and the fragment shader is the part of the shader that will be executed for each pixel of the drawing.</p><p>To generate this efect we will split the drawing in the three color channels (red, green and blue) and paint three drawings with each one, one of them will be static while the other two move in different directions in a small proportion generating a glitching effect on the drawing. To make it more interesting we will also add a noise effect to the movement of the moving drawings so the movement is not linear and can be timed diferently.</p><details><summary>Special Keys</summary><div class=markdown-inner><table><thead><tr><th>Key</th><th>Description</th></tr></thead><tbody><tr><td>R</td><td>Reset the canvas</td></tr></tbody></table></div></details><iframe marginheight=0 marginwidth=0 frameborder=1 scrolling=no id=glitch_text style=width:600px;height:600px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/glitch_text.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h3 id=code-explanation>Code explanation
<a class=anchor href=#code-explanation>#</a></h3><p>The code of the shader is very simple, the vertex and fragment shaders are generated in different files and then imported to the WEBGL context. This are the shader files:</p><div class=book-tabs><input type=radio class=toggle name=tabs-uniqueid id=tabs-uniqueid-0 checked>
<label for=tabs-uniqueid-0>Vertex Shader</label><div class="book-tabs-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>attribute</span> <span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>aPosition</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>attribute</span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>aTexCoord</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>varying</span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>vTexCoord</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vTexCoord</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>aTexCoord</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>position</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>aPosition</span>, <span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>position</span>.<span style=color:#a6e22e>xy</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>position</span>.<span style=color:#a6e22e>xy</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>2.0</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gl_Position</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>position</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><input type=radio class=toggle name=tabs-uniqueid id=tabs-uniqueid-1>
<label for=tabs-uniqueid-1>Fragment Shader</label><div class="book-tabs-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>ifdef</span> <span style=color:#a6e22e>GL_ES</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>precision</span> <span style=color:#a6e22e>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>endif</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>varying</span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>vTexCoord</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>sampler2D</span> <span style=color:#a6e22e>texture</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>movement</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>uv</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vTexCoord</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>uv</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.0</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>uv</span>.<span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>offset</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec2</span>(<span style=color:#a6e22e>movement</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.03</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>movement</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.02</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>color</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span>(<span style=color:#a6e22e>texture</span>, <span style=color:#a6e22e>uv</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>offset</span>).<span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span>(<span style=color:#a6e22e>texture</span>, <span style=color:#a6e22e>uv</span>).<span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span>(<span style=color:#a6e22e>texture</span>, <span style=color:#a6e22e>uv</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>offset</span>).<span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>color</span>, <span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></div><p>The main logic is that while the user presses the mouse left button the program will start painting over the canvas, then the whole canvas will be painted with the shader and the shader will be executed for each pixel of the canvas. The shader will take the color of the pixel and will paint it in ech channel with a given offset. The offset will be calculated using the movement value and a random value from the elapsed execution time as this:</p><div class=book-tabs><input type=radio class=toggle name=tabs-uniqueid id=tabs-uniqueid-0 checked>
<label for=tabs-uniqueid-0>Main loop</label><div class="book-tabs-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>mouseIsPressed</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>draw_canvas</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>mouseX</span>, <span style=color:#a6e22e>mouseY</span>, <span style=color:#a6e22e>pmouseX</span>, <span style=color:#a6e22e>pmouseY</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>reset_draw</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>draw_canvas</span>.<span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>40</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>reset_draw</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>showGlitch</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><input type=radio class=toggle name=tabs-uniqueid id=tabs-uniqueid-1>
<label for=tabs-uniqueid-1>Show Glitch</label><div class="book-tabs-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>showGlitch</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>glitch_shader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>draw_canvas</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>glitch_shader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;movement&#39;</span>, <span style=color:#a6e22e>generateRandomMovement</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>width</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>height</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><input type=radio class=toggle name=tabs-uniqueid id=tabs-uniqueid-2>
<label for=tabs-uniqueid-2>Generate Random Movement</label><div class="book-tabs-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>MOVEMENT</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>generateRandomMovement</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>glitch_noise</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>noise</span>(<span style=color:#a6e22e>millis</span>() <span style=color:#f92672>/</span> <span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>glitch_noise</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>MOVEMENT</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>glitch_noise</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pow</span>((<span style=color:#a6e22e>glitch_noise</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>MOVEMENT</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>/</span>(<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>MOVEMENT</span>), <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>glitch_noise</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://AlejoM1908.github.io/showcase/commit/92f32882721e60650e66dedf5ea9f3aed9b931b5 title='Last modified by Daniel Alejandro Melo | June 20, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 20, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div></main></body></html>